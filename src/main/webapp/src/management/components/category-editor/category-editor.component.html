<div class="ui horizontal divider">
    category editor
</div>
<div class="ui left aligned container">
    <form class="ui form" #categoryForm="ngForm">
        <div [ngClass]="{error: name.invalid && name.touched}" class="field">
            <label>Name:</label>
            <div class="ui input">
                <input
                        type="text" placeholder="Category name" name="name"
                        [(ngModel)]="category.name"
                        #name="ngModel"
                        required/>
            </div>
        </div>
        <div class="field">
            <label>Description:</label>
            <textarea #description="ngModel"
                      rows="2"
                      name="description"
                      [(ngModel)]="category.description"></textarea>
        </div>
        <div class="field">
            <sm-select
                    [options]="{direction: 'auto'}"
                    [(model)]="category.parentId" placeholder="Select your parent"
                    class="fluid">
                <option *ngFor="let category of categories"
                        [value]="category.categoryId">{{category.name}}</option>
            </sm-select>
        </div>
        <div [ngClass]="{disabled: (action == 'addition'
        && (name.invalid || name.pristine))}"
             class="ui primary button"
             (click)="onSubmit()">Save
        </div>
        <div (click)="back()" class="ui yellow button">Cancel</div>
    </form>
    <div *ngIf="submit == 'error'" class="ui error message">
        <div class="header">Error of send.</div>
        <p>Please try again later.</p>
    </div>
</div>


